version: '{build}'
environment:
  BUILD_TYPE: Visual Studio 14 2015 Win64
  TARGET_OS: WIN32
  matrix:
  - CONFIG_TYPE: Release
  - CONFIG_TYPE: Debug
build_script:
- cmd: >-
    git clone -q https://github.com/jpd002/Play-Build.git C:\Projects\Play-Build

    cd C:\Projects\Play-Build

    git submodule update -q --init --recursive

    git submodule foreach -q "git checkout -q master"

    cd Dependencies

    git submodule update --init

    cd ..

    rd /S /Q Play

    move C:\Projects\Play Play

    cd Play\build_cmake

    mkdir build

    cd build

    cmake .. -G"%BUILD_TYPE%" -DCMAKE_BUILD_TYPE=%CONFIG_TYPE%

    cmake --build . --config %CONFIG_TYPE%